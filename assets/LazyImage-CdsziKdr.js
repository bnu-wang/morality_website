import{a as p,l as t,p as g,o,g as l,n as u,J as i}from"./vendor-CByJVbOQ.js";import{_}from"./index-vrctrdHt.js";const f={class:"lazy-image-wrapper"},y=["src","alt"],L=p({__name:"LazyImage",props:{src:{},alt:{},className:{},testDelay:{}},setup(d){const a=d,r=t(!0),n=t(!1),s=t(""),c=t(!1),m=()=>{r.value=!1,n.value=!1},v=()=>{r.value=!1,n.value=!0};return g(()=>{if(a.testDelay&&a.testDelay>0)c.value=!0,setTimeout(()=>{s.value=a.src;const e=new Image;e.onload=()=>{m()},e.src=a.src},a.testDelay);else{s.value=a.src;const e=new Image;e.onload=()=>{m()},e.src=a.src}}),(e,h)=>(o(),l("div",f,[s.value?(o(),l("img",{key:0,src:s.value,alt:e.alt||"",class:u(e.className),onLoad:m,onError:v},null,42,y)):i("",!0),r.value?(o(),l("div",{key:1,class:u(["loading-text",{"test-mode":c.value}])},"loading...",2)):i("",!0),n.value?(o(),l("div",{key:2,class:u(["error-text",{"test-mode":c.value}])},"图片加载失败",2)):i("",!0)]))}}),z=_(L,[["__scopeId","data-v-a110a8ab"]]);export{z as L};
